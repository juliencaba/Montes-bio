<!doctype html>
<html lang="fr" data-lang="fr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Montes BioPharma — Assistant Littérature</title>
<meta name="color-scheme" content="light"/>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<!-- pdf.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js" crossorigin="anonymous"></script>
<!-- mammoth.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.6.0/mammoth.browser.min.js" crossorigin="anonymous"></script>

<style>
/* =================== THEME — DuponteADN inspired =================== */
:root{
  --bg:#F6F7FB;
  --panel:#FFFFFF;
  --ink:#0F1226;           /* texte principal (anthracite froid) */
  --muted:#6C7392;         /* texte secondaire bleu-gris */
  --primary:#3A49FF;       /* bleu électrique Duponte-like */
  --accent:#00FF6A;        /* vert fluo */
  --border:#E6E9F4;
  --radius:18px;
  --shadow:0 10px 30px rgba(15,18,38,.06);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;background:var(--bg);color:var(--ink);
  font-family:Outfit,system-ui,-apple-system,"Segoe UI",Ubuntu,Arial,sans-serif;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}
a{color:var(--primary);text-decoration:none}
a:hover{text-decoration:underline}
img{display:block;max-width:100%}

/* =================== PARTICLES (fond, bleu→vert) =================== */
#particlesCanvas{position:fixed;inset:0;z-index:0;pointer-events:none;mix-blend-mode:multiply;opacity:.65}

/* =================== HEADER =================== */
header{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid var(--border)}
.nav{
  max-width:1200px;margin:0 auto;padding:14px 20px;
  display:flex;align-items:center;gap:14px;
}
.logo{height:40px;width:auto}
.brand{font-weight:700;letter-spacing:.02em;color:var(--ink)}
.lang{margin-left:auto;display:flex;gap:8px}
.lang button{
  appearance:none;border:1px solid var(--border);background:#fff;color:var(--ink);
  padding:8px 14px;border-radius:999px;cursor:pointer;font-weight:600;transition:.2s ease;
}
.lang button.active, .lang button:hover{border-color:var(--primary);}

/* =================== HERO =================== */
.hero{
  position:relative; z-index:1;
  max-width:1200px;margin:0 auto;padding:56px 20px 22px;
}
.kicker{color:var(--accent);font-weight:700;letter-spacing:.28em;font-size:13px}
h1.hero-title{
  margin:12px 0 10px; font-size:clamp(36px,6vw,64px); line-height:1.02;
  color:var(--primary); text-transform:uppercase; font-weight:800;
}
.hero-sub{color:var(--muted);font-size:18px;max-width:820px}
.cta{display:flex;gap:12px;flex-wrap:wrap;margin-top:20px}
.btn{
  appearance:none;cursor:pointer;border-radius:999px;
  padding:14px 22px;font-weight:700;border:2px solid transparent;transition:transform .06s ease, box-shadow .2s ease, background .2s ease,color .2s ease;
}
.btn:active{transform:translateY(1px)}
.btn.primary{background:var(--primary);color:#fff;box-shadow:var(--shadow)}
.btn.primary:hover{box-shadow:0 14px 36px rgba(58,73,255,.25)}
.btn.ghost{background:#fff;color:var(--primary);border-color:var(--primary)}
.btn.flat{background:#fff;color:#111;border-color:#E0E5FF}

/* =================== MAIN LAYOUT =================== */
main{position:relative;z-index:1}
.section{
  max-width:1200px;margin:0 auto;padding:26px 20px 10px;
}
.cards{display:grid;gap:18px}
@media(min-width:880px){.cards{grid-template-columns:1fr 1fr}}
.block{
  background:var(--panel); border:1px solid var(--border);
  border-radius:var(--radius); box-shadow:var(--shadow); overflow:hidden;
}
.block header{
  display:flex;align-items:center;justify-content:space-between;gap:10px;
  padding:18px 20px;border-bottom:1px solid var(--border);background:linear-gradient(180deg,#fff, #FBFCFF);
}
.block header .overline{color:var(--accent);font-weight:800;letter-spacing:.18em;font-size:11px}
.block header h2{margin:2px 0 0;font-size:22px;color:var(--primary);text-transform:uppercase;letter-spacing:.02em}
.block .inner{padding:18px 20px}
.block.open .inner{display:block}
.muted{color:var(--muted)}
hr.sep{border:none;border-top:1px solid var(--border);margin:14px 0}

/* Inputs */
.grid{display:grid;gap:12px}
.row{display:grid;gap:10px}
@media(min-width:760px){.row-2{grid-template-columns:1fr 1fr}.row-3{grid-template-columns:1fr 1fr 1fr}}
label,strong,em,small{font-weight:600}
input,select,textarea{
  width:100%;background:#fff;color:var(--ink);
  border:1.5px solid var(--border);border-radius:14px;padding:12px 14px;outline:none;transition:border .2s ease, box-shadow .2s ease;
}
input:focus,select:focus,textarea:focus{border-color:#C9D0FF;box-shadow:0 0 0 4px rgba(58,73,255,.12)}
.controls{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
.btn.secondary{background:#fff;color:var(--primary);border:2px solid var(--primary)}
.btn.secondary:hover{background:#F0F2FF}

/* Pubs */
.pub-card{
  border:1px solid var(--border);border-radius:16px;padding:14px;background:#fff;display:grid;gap:6px;
  box-shadow:0 6px 16px rgba(15,18,38,.04);
}
.tag{
  font-size:11px;padding:4px 10px;border:1px solid #E0E5FF;border-radius:999px;background:#fff;color:var(--primary);font-weight:700;letter-spacing:.02em;
}

/* Upload */
.drop{
  display:grid;place-items:center;text-align:center;gap:8px;
  padding:26px;border:2px dashed #CBD3FF;border-radius:16px;background:#FBFCFF;color:var(--muted)
}
.drop.drag{border-color:var(--primary); background:#F4F6FF}
.file-list{display:grid;gap:10px;margin-top:10px}
.file-item{padding:10px;border:1px solid var(--border);border-radius:14px;background:#fff}

/* Preview */
pre#preview{
  white-space:pre-wrap;background:#fff;border:1px solid var(--border);
  border-radius:16px;padding:16px;color:#111; box-shadow:0 6px 16px rgba(15,18,38,.04);
}

/* FOOTER */
footer{
  position:relative;z-index:1;margin-top:36px;background:#fff;border-top:1px solid var(--border);
}
.footer-wrap{max-width:1200px;margin:0 auto;padding:28px 20px 36px}
.footer-grid{display:grid;gap:22px}
@media(min-width:900px){.footer-grid{grid-template-columns:1.2fr 1fr 1fr 1fr}}
.footer-title{color:var(--accent);font-weight:800;letter-spacing:.22em;font-size:12px;margin-bottom:12px}
.footer-col a{display:block;margin:6px 0;color:#3c44c9}
.footer-bottom{display:flex;align-items:center;justify-content:space-between;gap:10px;color:var(--muted);font-size:14px;margin-top:18px}

/* Small helpers */
.kv{display:flex;gap:10px;align-items:center}
.hide{display:none}
</style>
</head>

<body>
<canvas id="particlesCanvas"></canvas>

<!-- ===== Header ===== -->
<header>
  <div class="nav">
    <img src="./assets/montes-biopharma-logo.svg" alt="Montes BioPharma" class="logo">
    <div class="brand">Montes BioPharma</div>
    <div class="lang">
      <button id="btnFR" class="active">FR</button>
      <button id="btnEN">EN</button>
    </div>
  </div>
</header>

<!-- ===== HERO ===== -->
<section class="hero">
  <div class="kicker">ASSISTANT LITTÉRATURE</div>
  <h1 class="hero-title">No learning curve,<br/>no complications</h1>
  <p class="hero-sub">Analyse Europe&nbsp;PMC, extraction locale PDF/DOCX, synthèse IA et export PDF — dans une interface clinique et lumineuse.</p>
  <div class="cta">
    <a class="btn primary" href="#blk0">Commencer</a>
    <a class="btn ghost" href="#blk3">Voir les résultats</a>
  </div>
</section>

<!-- ===== MAIN ===== -->
<main>
  <div class="section">
    <div class="cards">
      <!-- Bloc 1 : Conformité + Upload -->
      <section id="blk0" class="block open">
        <header>
          <div>
            <div class="overline" data-i="s1Title">CONTEXTE & CONFORMITÉ</div>
            <h2>Usage pro uniquement</h2>
          </div>
        </header>
        <div class="inner">
          <label class="kv">
            <input type="checkbox" id="compliance" style="width:auto">
            <span data-i="s1Check">Je confirme être un professionnel habilité et m’appuyer sur des SOP internes validées.</span>
          </label>
          <hr class="sep">
          <h3 class="overline" data-i="s6Title">DOCUMENTS INTERNES (ANALYSE LOCALE)</h3>
          <p class="muted" data-i="s6Text">Déposez des fichiers PDF, DOCX ou TXT. Texte extrait localement. La synthèse peut utiliser Hugging Face.</p>
          <div id="drop" class="drop">
            <div>
              <strong data-i="s6DropTitle">Déposez vos fichiers ici</strong>
              <div class="muted" data-i="s6DropHint">ou cliquez pour sélectionner</div>
              <small data-i="s6DropTypes">Acceptés : PDF, DOCX, TXT</small>
            </div>
            <input id="fileInput" type="file" multiple accept=".pdf,.docx,.txt" style="display:none">
          </div>
          <div class="file-list" id="filesList"></div>
          <div class="controls">
            <button class="btn primary" id="runLocal" data-i="btnAnalyze">Analyser</button>
            <button class="btn secondary" data-open="#blk1">Continuer</button>
          </div>
        </div>
      </section>

      <!-- Bloc 2 : Paramètres -->
      <section id="blk1" class="block">
        <header>
          <div>
            <div class="overline" data-i="s2Title">PARAMÈTRES & TECHNIQUES</div>
            <h2>Contexte scientifique</h2>
          </div>
        </header>
        <div class="inner">
          <div class="row row-3">
            <div><label data-i="labVector">Vecteur</label><input id="vector" placeholder="Adenovirus"></div>
            <div><label data-i="labSerotype">Sérotype</label><input id="serotype" placeholder="Ad5"></div>
            <div><label data-i="labCellLine">Lignée cellulaire</label><input id="cellLine" placeholder="HEK293 / PER.C6"></div>
          </div>
          <div class="row" style="margin-top:8px">
            <div><label data-i="labKeywords">Mots-clés complémentaires</label><input id="keywords" placeholder="chromatography, anion exchange, membrane, affinity"></div>
          </div>
          <div class="grid" style="margin-top:10px">
            <strong class="overline" data-i="techTitle">TECHNIQUES DOWNSTREAM</strong>
            <label><input type="checkbox" class="tech" value="Clarification"> Clarification</label>
            <label><input type="checkbox" class="tech" value="Capture"> Capture (affinité / AEX)</label>
            <label><input type="checkbox" class="tech" value="Polishing"> Polishing</label>
            <label><input type="checkbox" class="tech" value="TFF"> TFF (Concentration / Diafiltration)</label>
            <label><input type="checkbox" class="tech" value="QC"> Contrôles qualité (attributs)</label>
            <label><input type="checkbox" class="tech" value="Formulation"> Formulation / Documentation</label>
          </div>
          <div class="controls">
            <button class="btn secondary" data-open="#blk2">Continuer</button>
          </div>
        </div>
      </section>

      <!-- Bloc 3 : Recherche -->
      <section id="blk2" class="block">
        <header>
          <div>
            <div class="overline" data-i="searchTitle">RECHERCHE LITTÉRATURE</div>
            <h2>Europe PMC</h2>
          </div>
          <small class="muted">OA + abstracts</small>
        </header>
        <div class="inner">
          <div class="row row-2">
            <div>
              <label data-i="labYears">Fenêtre (années)</label>
              <select id="yearsWindow"><option value="1">1</option><option value="2" selected>2</option><option value="5">5</option><option value="10">10</option></select>
            </div>
            <div>
              <label data-i="labMax">Nombre max. d’articles</label>
              <select id="retMax"><option value="5">5</option><option value="10" selected>10</option><option value="20">20</option><option value="50">50</option></select>
            </div>
          </div>
          <label class="kv" style="margin-top:8px">
            <input type="checkbox" id="onlyOA" checked style="width:auto">
            <span data-i="labOA">Uniquement open access (texte intégral)</span>
          </label>
          <div class="controls">
            <button class="btn primary" id="runSearch" data-i="btnSearch">Lancer la recherche</button>
            <button class="btn secondary" data-open="#blk3">Continuer</button>
          </div>
        </div>
      </section>

      <!-- Bloc 4 : Résultats -->
      <section id="blk3" class="block">
        <header>
          <div>
            <div class="overline" data-i="s3Title">RÉSULTATS LITTÉRATURE</div>
            <h2>Europe PMC</h2>
          </div>
          <small id="searchInfo" class="muted"></small>
        </header>
        <div class="inner">
          <div id="results" class="grid"></div>
          <div class="controls">
            <button class="btn secondary" data-open="#blk4">Continuer</button>
          </div>
        </div>
      </section>

      <!-- Bloc 5 : Analyse IA -->
      <section id="blk4" class="block">
        <header>
          <div>
            <div class="overline" data-i="s4Title">ANALYSE IA</div>
            <h2>Articles sélectionnés</h2>
          </div>
          <small id="selInfo" class="muted"></small>
        </header>
        <div class="inner">
          <p class="muted" data-i="s4Text">Sélectionne au moins 1 article puis lance l’analyse. Résumé automatique (Hugging Face).</p>
          <div id="selectedList" class="grid"></div>
          <div class="controls">
            <button class="btn primary" id="analyzeBtn" data-i="btnAnalyze">Analyser</button>
            <button class="btn secondary" data-open="#blk5">Continuer</button>
          </div>
        </div>
      </section>

      <!-- Bloc 6 : Aperçu & PDF -->
      <section id="blk5" class="block open">
        <header>
          <div>
            <div class="overline" data-i="s5Title">APERÇU & EXPORT PDF</div>
            <h2>Protocole documentaire</h2>
          </div>
        </header>
        <div class="inner">
          <div class="kv">
            <div class="muted" data-i="safety">Note : sortie documentaire basée littérature. Aucun paramètre expérimental.</div>
          </div>
          <pre id="preview"></pre>
          <div class="controls">
            <button class="btn primary" id="exportPdf" data-i="btnPdf">Exporter le PDF</button>
          </div>
        </div>
      </section>

    </div>
  </div>
</main>

<!-- ===== FOOTER ===== -->
<footer>
  <div class="footer-wrap">
    <div class="footer-grid">
      <div class="footer-col">
        <div class="footer-title">MENU</div>
        <a href="#blk0">Conformité</a>
        <a href="#blk1">Paramètres</a>
        <a href="#blk2">Recherche</a>
        <a href="#blk3">Résultats</a>
        <a href="#blk4">Analyse IA</a>
        <a href="#blk5">Aperçu & PDF</a>
      </div>
      <div class="footer-col">
        <div class="footer-title">LEGAL</div>
        <a href="#">Mentions légales</a>
        <a href="#">Confidentialité</a>
        <a href="#">Cookies</a>
      </div>
      <div class="footer-col">
        <div class="footer-title">SOCIAL</div>
        <a href="#">LinkedIn</a>
        <a href="#">Instagram</a>
        <a href="#">Facebook</a>
      </div>
      <div class="footer-col">
        <div class="footer-title">CONTACT</div>
        <div>Montes BioPharma</div>
        <div>Bruxelles — Belgique</div>
        <div class="muted">contact@montes.bio</div>
      </div>
    </div>
    <div class="footer-bottom">
      <div>© <span id="year"></span> Montes BioPharma</div>
      <div class="muted">Europe PMC / PubMed — Hugging Face (optionnel). Aucune instruction expérimentale.</div>
    </div>
  </div>
</footer>

<!-- jsPDF -->
<script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js" crossorigin="anonymous"></script>

<!-- ========= JS : réutilise TON JS ACTUEL tel quel (IDs/flux conservés) ========= -->
<script>
/* === Particles : dégradé bleu/vert === */
const cv=document.getElementById('particlesCanvas'),cx=cv.getContext('2d');let W,H,PTS=[];
function size(){W=cv.width=innerWidth;H=cv.height=innerHeight} size(); addEventListener('resize',size);
function R(a,b){return a+Math.random()*(b-a)}
function spawn(){return{x:R(0,W),y:R(0,H),vx:R(-.05,.05),vy:-R(.02,.07),r:R(1.0,2.4),t:R(0,6.28),tw:R(.6,1.1)}}
PTS=Array.from({length:Math.min(240,Math.round((W*H)/16000))},spawn);
(function loop(){requestAnimationFrame(loop);cx.clearRect(0,0,W,H);
for(const p of PTS){p.t+=.016;const a=.10+.35*Math.abs(Math.sin(p.t))*p.tw;p.x+=p.vx+Math.sin(p.t*.35)*.03;p.y+=p.vy;
if(p.x<-6)p.x=W+6;if(p.x>W+6)p.x=-6;if(p.y<-6){p.y=H+6;p.x=Math.random()*W;}
const mix=Math.abs(Math.sin(p.t*.5));const r=Math.round(58*mix);const g=Math.round(255*(1-mix));const b=Math.round(255*(mix));
cx.beginPath();cx.arc(p.x,p.y,p.r,0,6.283);
cx.fillStyle=`rgba(${r},${b},${255-b},${a})`;cx.fill();}})();

/* === i18n/UX/EuropePMC/HF/PDF ===
   >> Colle ici tel quel le JS de ta version précédente (tout le bloc que tu m'as envoyé).
   >> Les IDs, classes et boutons sont inchangés ; rien d’autre à modifier. */
</script>
</body>
</html>
